(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c,r=n(8),s=n.n(r),a=n(6),o=n(15),u=n(5),i=n(14);!function(e){e.SET_TODOS="SET_TODOS",e.SET_USER="SET_USER",e.REMOVE_USER="REMOVE_USER"}(c||(c={}));var l=function(e){return{type:c.SET_TODOS,payload:e}},d=function(e){return{type:c.SET_USER,payload:e}},j={todos:[],user:null},p=Object(i.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.SET_TODOS:return Object(u.a)(Object(u.a)({},e),{},{todos:t.payload});case c.SET_USER:return Object(u.a)(Object(u.a)({},e),{},{user:t.payload});case c.REMOVE_USER:return Object(u.a)(Object(u.a)({},e),{},{user:null});default:return e}})),b=(n(23),n(0)),O=function(e){return e.todos},f=function(e){return e.user},h=(n(24),n(1)),x=function(){var e=Object(a.c)(f),t=Object(a.b)();return e?Object(h.jsxs)("div",{className:"CurrentUser",children:[Object(h.jsx)("h2",{className:"CurrentUser__title",children:Object(h.jsx)("span",{children:"Selected user: ".concat(e.id)})}),Object(h.jsx)("button",{type:"button",onClick:function(){t({type:c.REMOVE_USER})},children:"Clear"}),Object(h.jsx)("h3",{"data-cy":"userName",className:"CurrentUser__name",children:e.name}),Object(h.jsx)("p",{className:"CurrentUser__email",children:e.email}),Object(h.jsx)("p",{className:"CurrentUser__phone",children:e.phone})]}):Object(h.jsx)("p",{children:"No user selected"})},v=n(7),m=n(4),_=n(3),y=n.n(_),E=n(12),T=n.n(E),S=(n(27),"https://mate.academy/students-api"),N=function(){var e=Object(v.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/users/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/todos/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.useState)(""),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(b.useState)(""),s=Object(m.a)(r,2),o=s[0],u=s[1],i=Object(a.b)(),j=Object(a.c)(f),p=Object(a.c)(O).filter((function(e){return e.title.includes(n)}));Object(b.useEffect)((function(){try{var e=function(){var e=Object(v.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,i(l(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}catch(t){console.log(t)}}),[]);var x=function(){var e=Object(v.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:n=e.sent,i(d(n)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i(d(null)),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(v.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return e.next=4,N();case 4:n=e.sent,i(l(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"TodoList",children:[Object(h.jsx)("h2",{children:"Todos:"}),Object(h.jsxs)("div",{className:"TodoList__list-container",children:[Object(h.jsx)("p",{children:"Filter todos by title"}),Object(h.jsx)("input",{type:"text",value:n,"data-cy":"filterByTitle",onChange:function(e){var t=e.target;c(t.value)}}),Object(h.jsx)("p",{children:"Filter todos by status"}),Object(h.jsxs)("select",{onChange:function(e){var t=e.target;u(t.value)},children:[Object(h.jsx)("option",{value:"all",children:"All todos"}),Object(h.jsx)("option",{value:"active",children:"Active todos"}),Object(h.jsx)("option",{value:"completed",children:"Completed todos"})]}),Object(h.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:function(e){switch(o){case"active":return e.filter((function(e){return!1===e.completed}));case"completed":return e.filter((function(e){return!0===e.completed}));default:return e}}(p).map((function(e){return Object(h.jsxs)("li",{className:T()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed}),children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",readOnly:!0,checked:e.completed}),Object(h.jsx)("p",{children:e.title})]}),Object(h.jsxs)("div",{className:"button-container",children:[Object(h.jsx)("button",{className:T()("TodoList__user-button","button",{"TodoList__user-button--selected":(null===j||void 0===j?void 0:j.id)===e.userId}),type:"button",onClick:function(){x(e.userId)},children:"User #".concat(e.userId)}),Object(h.jsx)("button",{type:"button",className:"button button--close",onClick:function(){_(e.id)},children:"X"})]})]},e.id)}))})]})]})},C=(n(28),function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{className:"App__sidebar",children:Object(h.jsx)(U,{})}),Object(h.jsx)("div",{className:"App__content",children:Object(h.jsx)("div",{className:"App__content-container",children:Object(h.jsx)(x,{})})})]})}),R=function(){return Object(h.jsx)(a.a,{store:p,children:Object(h.jsx)(o.a,{children:Object(h.jsx)(C,{})})})};s.a.render(Object(h.jsx)(R,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.22f62cf2.chunk.js.map